import { __decorate, __metadata } from "tslib";
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, ViewChild } from '@angular/core';
const poPageBlockedUserContactItemMargin = 16;
let PoPageBlockedUserContactsComponent = class PoPageBlockedUserContactsComponent {
    constructor(changeDetector) {
        this.changeDetector = changeDetector;
        this.overflowItem = true;
    }
    set email(value) {
        this._email = value;
        this.checkContactItemWidth();
    }
    get email() {
        return this._email;
    }
    set phone(value) {
        this._phone = value;
        this.checkContactItemWidth();
    }
    get phone() {
        return this._phone;
    }
    checkContactItemWidth() {
        this.overflowItem = true;
        if (this.phone && this.email) {
            this.changeDetector.detectChanges();
            const phoneWidth = this.phoneItem.nativeElement.offsetWidth;
            const mailWidth = this.mailItem.nativeElement.offsetWidth;
            const contactGroupHalfWidth = this.contactGroup.nativeElement.offsetWidth / 2 - poPageBlockedUserContactItemMargin;
            this.overflowItem =
                phoneWidth > contactGroupHalfWidth || mailWidth > contactGroupHalfWidth - poPageBlockedUserContactItemMargin;
        }
    }
};
PoPageBlockedUserContactsComponent.ctorParameters = () => [
    { type: ChangeDetectorRef }
];
__decorate([
    Input('p-email'),
    __metadata("design:type", String),
    __metadata("design:paramtypes", [String])
], PoPageBlockedUserContactsComponent.prototype, "email", null);
__decorate([
    Input('p-phone'),
    __metadata("design:type", String),
    __metadata("design:paramtypes", [String])
], PoPageBlockedUserContactsComponent.prototype, "phone", null);
__decorate([
    ViewChild('contactGroup', { static: true }),
    __metadata("design:type", ElementRef)
], PoPageBlockedUserContactsComponent.prototype, "contactGroup", void 0);
__decorate([
    ViewChild('mailItem', { static: true }),
    __metadata("design:type", ElementRef)
], PoPageBlockedUserContactsComponent.prototype, "mailItem", void 0);
__decorate([
    ViewChild('phoneItem', { static: true }),
    __metadata("design:type", ElementRef)
], PoPageBlockedUserContactsComponent.prototype, "phoneItem", void 0);
PoPageBlockedUserContactsComponent = __decorate([
    Component({
        selector: 'po-page-blocked-user-contacts',
        template: "<div #contactGroup class=\"po-page-blocked-user-contact-group po-row po-mb-3\">\n  <div\n    class=\"po-page-blocked-user-contact-item\"\n    [class.po-invisible]=\"!phone\"\n    [ngClass]=\"overflowItem ? 'po-md-12' : 'po-md-6'\"\n  >\n    <a\n      class=\"po-page-blocked-user-link po-clickable\"\n      [class.po-page-blocked-user-contact-content-inline]=\"overflowItem\"\n      href=\"tel:{{ phone }}\"\n      target=\"_self\"\n    >\n      <div class=\"po-page-blocked-user-contact-group-item\">\n        <span class=\"po-page-blocked-user-contact-icon po-icon po-icon-telephone po-pr-1\"></span>\n        <div #phoneItem class=\"po-page-blocked-user-contact-text po-font-text\">{{ phone }}</div>\n      </div>\n    </a>\n  </div>\n  <div\n    class=\"po-page-blocked-user-contact-item po-page-blocked-user-contact-mail\"\n    [class.po-invisible]=\"!email\"\n    [ngClass]=\"overflowItem ? 'po-md-12' : 'po-md-6'\"\n  >\n    <a\n      class=\"po-page-blocked-user-link po-clickable\"\n      [class.po-page-blocked-user-contact-content-inline]=\"overflowItem\"\n      href=\"mailto:{{ email }}\"\n      target=\"_self\"\n    >\n      <div class=\"po-page-blocked-user-contact-group-item\">\n        <span class=\"po-page-blocked-user-contact-icon po-icon po-icon-mail po-pr-1\"></span>\n        <div #mailItem class=\"po-page-blocked-user-contact-text po-font-text\">{{ email }}</div>\n      </div>\n    </a>\n  </div>\n</div>\n",
        changeDetection: ChangeDetectionStrategy.OnPush
    }),
    __metadata("design:paramtypes", [ChangeDetectorRef])
], PoPageBlockedUserContactsComponent);
export { PoPageBlockedUserContactsComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1ibG9ja2VkLXVzZXItY29udGFjdHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHBvLXVpL25nLXRlbXBsYXRlcy8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3BvLXBhZ2UtYmxvY2tlZC11c2VyL3BvLXBhZ2UtYmxvY2tlZC11c2VyLWNvbnRhY3RzL3BvLXBhZ2UtYmxvY2tlZC11c2VyLWNvbnRhY3RzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLHVCQUF1QixFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVwSCxNQUFNLGtDQUFrQyxHQUFHLEVBQUUsQ0FBQztBQU85QyxJQUFhLGtDQUFrQyxHQUEvQyxNQUFhLGtDQUFrQztJQWdDN0MsWUFBb0IsY0FBaUM7UUFBakMsbUJBQWMsR0FBZCxjQUFjLENBQW1CO1FBNUJyRCxpQkFBWSxHQUFZLElBQUksQ0FBQztJQTRCMkIsQ0FBQztJQTFCdkMsSUFBSSxLQUFLLENBQUMsS0FBYTtRQUN2QyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUVwQixJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFFaUIsSUFBSSxLQUFLLENBQUMsS0FBYTtRQUN2QyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUVwQixJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFVTyxxQkFBcUI7UUFDM0IsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFFekIsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDNUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUVwQyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUM7WUFDNUQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDO1lBQzFELE1BQU0scUJBQXFCLEdBQ3pCLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLFdBQVcsR0FBRyxDQUFDLEdBQUcsa0NBQWtDLENBQUM7WUFFdkYsSUFBSSxDQUFDLFlBQVk7Z0JBQ2YsVUFBVSxHQUFHLHFCQUFxQixJQUFJLFNBQVMsR0FBRyxxQkFBcUIsR0FBRyxrQ0FBa0MsQ0FBQztTQUNoSDtJQUNILENBQUM7Q0FDRixDQUFBOztZQWpCcUMsaUJBQWlCOztBQTFCbkM7SUFBakIsS0FBSyxDQUFDLFNBQVMsQ0FBQzs7OytEQUloQjtBQU1pQjtJQUFqQixLQUFLLENBQUMsU0FBUyxDQUFDOzs7K0RBSWhCO0FBTTRDO0lBQTVDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUM7OEJBQWUsVUFBVTt3RUFBQztBQUU3QjtJQUF4QyxTQUFTLENBQUMsVUFBVSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDOzhCQUFXLFVBQVU7b0VBQUM7QUFFcEI7SUFBekMsU0FBUyxDQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQzs4QkFBWSxVQUFVO3FFQUFDO0FBOUJyRCxrQ0FBa0M7SUFMOUMsU0FBUyxDQUFDO1FBQ1QsUUFBUSxFQUFFLCtCQUErQjtRQUN6QyxzNkNBQTZEO1FBQzdELGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO0tBQ2hELENBQUM7cUNBaUNvQyxpQkFBaUI7R0FoQzFDLGtDQUFrQyxDQWlEOUM7U0FqRFksa0NBQWtDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuY29uc3QgcG9QYWdlQmxvY2tlZFVzZXJDb250YWN0SXRlbU1hcmdpbiA9IDE2O1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby1wYWdlLWJsb2NrZWQtdXNlci1jb250YWN0cycsXG4gIHRlbXBsYXRlVXJsOiAnLi9wby1wYWdlLWJsb2NrZWQtdXNlci1jb250YWN0cy5jb21wb25lbnQuaHRtbCcsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIFBvUGFnZUJsb2NrZWRVc2VyQ29udGFjdHNDb21wb25lbnQge1xuICBwcml2YXRlIF9lbWFpbDogc3RyaW5nO1xuICBwcml2YXRlIF9waG9uZTogc3RyaW5nO1xuXG4gIG92ZXJmbG93SXRlbTogYm9vbGVhbiA9IHRydWU7XG5cbiAgQElucHV0KCdwLWVtYWlsJykgc2V0IGVtYWlsKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9lbWFpbCA9IHZhbHVlO1xuXG4gICAgdGhpcy5jaGVja0NvbnRhY3RJdGVtV2lkdGgoKTtcbiAgfVxuXG4gIGdldCBlbWFpbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW1haWw7XG4gIH1cblxuICBASW5wdXQoJ3AtcGhvbmUnKSBzZXQgcGhvbmUodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3Bob25lID0gdmFsdWU7XG5cbiAgICB0aGlzLmNoZWNrQ29udGFjdEl0ZW1XaWR0aCgpO1xuICB9XG5cbiAgZ2V0IHBob25lKCkge1xuICAgIHJldHVybiB0aGlzLl9waG9uZTtcbiAgfVxuXG4gIEBWaWV3Q2hpbGQoJ2NvbnRhY3RHcm91cCcsIHsgc3RhdGljOiB0cnVlIH0pIGNvbnRhY3RHcm91cDogRWxlbWVudFJlZjtcblxuICBAVmlld0NoaWxkKCdtYWlsSXRlbScsIHsgc3RhdGljOiB0cnVlIH0pIG1haWxJdGVtOiBFbGVtZW50UmVmO1xuXG4gIEBWaWV3Q2hpbGQoJ3Bob25lSXRlbScsIHsgc3RhdGljOiB0cnVlIH0pIHBob25lSXRlbTogRWxlbWVudFJlZjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNoYW5nZURldGVjdG9yOiBDaGFuZ2VEZXRlY3RvclJlZikge31cblxuICBwcml2YXRlIGNoZWNrQ29udGFjdEl0ZW1XaWR0aCgpIHtcbiAgICB0aGlzLm92ZXJmbG93SXRlbSA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5waG9uZSAmJiB0aGlzLmVtYWlsKSB7XG4gICAgICB0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKTtcblxuICAgICAgY29uc3QgcGhvbmVXaWR0aCA9IHRoaXMucGhvbmVJdGVtLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICBjb25zdCBtYWlsV2lkdGggPSB0aGlzLm1haWxJdGVtLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICBjb25zdCBjb250YWN0R3JvdXBIYWxmV2lkdGggPVxuICAgICAgICB0aGlzLmNvbnRhY3RHcm91cC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoIC8gMiAtIHBvUGFnZUJsb2NrZWRVc2VyQ29udGFjdEl0ZW1NYXJnaW47XG5cbiAgICAgIHRoaXMub3ZlcmZsb3dJdGVtID1cbiAgICAgICAgcGhvbmVXaWR0aCA+IGNvbnRhY3RHcm91cEhhbGZXaWR0aCB8fCBtYWlsV2lkdGggPiBjb250YWN0R3JvdXBIYWxmV2lkdGggLSBwb1BhZ2VCbG9ja2VkVXNlckNvbnRhY3RJdGVtTWFyZ2luO1xuICAgIH1cbiAgfVxufVxuIl19