import { __decorate, __metadata } from "tslib";
import { EventEmitter, Input, Output, Directive } from '@angular/core';
import { convertToBoolean, isExternalLink, isTypeof } from '../../utils/util';
/**
 * @description
 *
 * O componente `po-page-change-password` é utilizado como template para tela de cadastro ou alteração de senha.
 *
 * Apresenta dicas e regras para senhas mais seguras e também possibilidade de personalizar o redirecionamento para as telas
 * 'esqueceu a senha', 'voltar' e 'entrar no sistema'. Os textos das telas são pré-definidos e imutáveis.
 *
 * A propriedade `p-url-new-password` automatiza a rotina do template e simplifica o processo de cadastro/alteração de senha, bastando
 * definir uma url para POST das informações digitadas pelo usuário.  A flexibilidade e praticidade podem chegar a um nível em que o
 * desenvolvimento da aplicação no *client side* é desprovida de qualquer código-fonte relacionado à rotina de cadastro/alteração de senha.
 * Seu detalhamento para uso pode ser visto logo abaixo em *propriedades*.
 * Caso julgue necessário, pode-se também definir manualmente a rotina do componente.
 *
 * Para que as imagens sejam exibidas corretamente, é necessário incluir o caminho delas ao projeto. Para isso, edite
 * o *assets* no arquivo **angular.json** da aplicação na seguinte ordem:
 * ```
 *   "assets": [
 *     "src/assets",
 *     "src/favicon.ico",
 *     {
 *       "glob": "**\/*",
 *       "input": "node_modules/@po-ui/style/images",
 *       "output": "assets/images"
 *     }
 *   ]
 * ```
 */
var PoPageChangePasswordBaseComponent = /** @class */ (function () {
    function PoPageChangePasswordBaseComponent() {
        this._hideCurrentPassword = false;
        this._requirements = [];
        this._urlHome = '/';
        /**
         * @optional
         *
         * @description
         *
         * URL para a ação de retorno da página.
         *
         * > O botão `Voltar` aparece apenas para telas de alteração de senha, ou seja, só aparece se a propriedade `p-hide-current-password` for
         * falsa.
         *
         * @default `/`
         */
        this.urlBack = '/';
        /**
         * @optional
         *
         * @description
         *
         * Função executada ao submeter o form pelo botão salvar.
         *
         * Caso definida essa função, a modal de confirmação não aparece, mas pode ser chamada pelo
         * método `openConfirmation`. Exemplo:
         *
         * ```
         * @ViewChild(PoPageChangePasswordComponent) changePassword: PoPageChangePasswordComponent;
         *
         * onSubmit() {
         *  this.changePassword.openConfirmation();
         * }
         *
         * ```
         * > Esta propriedade será ignorada se for definido valor para a propriedade `p-url-new-password`.
         */
        this.submit = new EventEmitter();
    }
    Object.defineProperty(PoPageChangePasswordBaseComponent.prototype, "hideCurrentPassword", {
        get: function () {
            return this._hideCurrentPassword;
        },
        /**
         * @optional
         *
         * @description
         *
         * Esconde o campo `Senha atual` para que o template seja para criação de senha.
         *
         * @default `false`
         */
        set: function (value) {
            this._hideCurrentPassword = convertToBoolean(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoPageChangePasswordBaseComponent.prototype, "recovery", {
        get: function () {
            return this._recovery;
        },
        /**
         * @optional
         *
         * @description
         *
         * URL para a ação do link `Esqueceu a senha`.
         *
         * A propriedade aceita os seguintes tipos:
         *
         * - **String**: informe uma url externa ou uma rota válida;
         * - **Function**: pode-se customizar a ação. Para esta possilidade basta atribuir:
         * ```
         * <po-page-change-password>
         *      [recovery]="this.myFunc.bind(this)";
         * </po-page-change-password>
         * ```
         *
         * - **PoPageChangePasswordRecovery**: cria-se vínculo automático com o template **po-modal-password-recovery**.
         *   O objeto deve conter a **url** para requisição dos recursos e pode-se definir o **tipo** de modal para recuperação de senha,
         *   **email** para contato e **máscara** do campo de telefone.
         *
         * > Caso não tenha valor o link `Esqueceu a senha` desaparece.
         */
        set: function (value) {
            this._recovery = value;
            if (isTypeof(value, 'string')) {
                this.recoveryUrlType = isExternalLink(value) ? 'externalLink' : 'internalLink';
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoPageChangePasswordBaseComponent.prototype, "requirements", {
        get: function () {
            return this._requirements;
        },
        /**
         * @optional
         *
         * @description
         *
         * Lista de regras para criação e alteração de senha.
         */
        set: function (value) {
            this._requirements = value || [];
            this.showRequirements = this._requirements.length > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoPageChangePasswordBaseComponent.prototype, "urlHome", {
        get: function () {
            return this._urlHome;
        },
        /**
         * @optional
         *
         * @description
         *
         * URL para a ação do botão `Entrar no sistema` da modal de confirmação que aparece após salvar a senha ou se chamada pelo método
         * `openConfirmation`.
         *
         * @default `/`
         */
        set: function (value) {
            this._urlHome = value;
            this.modalAction.action = this.navigateTo.bind(this, this.urlHome);
        },
        enumerable: true,
        configurable: true
    });
    __decorate([
        Input('p-hide-current-password'),
        __metadata("design:type", Boolean),
        __metadata("design:paramtypes", [Boolean])
    ], PoPageChangePasswordBaseComponent.prototype, "hideCurrentPassword", null);
    __decorate([
        Input('p-logo'),
        __metadata("design:type", String)
    ], PoPageChangePasswordBaseComponent.prototype, "logo", void 0);
    __decorate([
        Input('p-recovery'),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], PoPageChangePasswordBaseComponent.prototype, "recovery", null);
    __decorate([
        Input('p-requirements'),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], PoPageChangePasswordBaseComponent.prototype, "requirements", null);
    __decorate([
        Input('p-secondary-logo'),
        __metadata("design:type", String)
    ], PoPageChangePasswordBaseComponent.prototype, "secondaryLogo", void 0);
    __decorate([
        Input('p-token'),
        __metadata("design:type", String)
    ], PoPageChangePasswordBaseComponent.prototype, "token", void 0);
    __decorate([
        Input('p-url-back'),
        __metadata("design:type", String)
    ], PoPageChangePasswordBaseComponent.prototype, "urlBack", void 0);
    __decorate([
        Input('p-url-new-password'),
        __metadata("design:type", String)
    ], PoPageChangePasswordBaseComponent.prototype, "urlNewPassword", void 0);
    __decorate([
        Input('p-url-home'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], PoPageChangePasswordBaseComponent.prototype, "urlHome", null);
    __decorate([
        Output('p-submit'),
        __metadata("design:type", EventEmitter)
    ], PoPageChangePasswordBaseComponent.prototype, "submit", void 0);
    PoPageChangePasswordBaseComponent = __decorate([
        Directive()
    ], PoPageChangePasswordBaseComponent);
    return PoPageChangePasswordBaseComponent;
}());
export { PoPageChangePasswordBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG8tdWkvbmctdGVtcGxhdGVzLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQvcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFJdkUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUs5RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBMkJHO0FBRUg7SUFBQTtRQUNVLHlCQUFvQixHQUFZLEtBQUssQ0FBQztRQUV0QyxrQkFBYSxHQUEyQyxFQUFFLENBQUM7UUFDM0QsYUFBUSxHQUFXLEdBQUcsQ0FBQztRQXdHL0I7Ozs7Ozs7Ozs7O1dBV0c7UUFDa0IsWUFBTyxHQUFXLEdBQUcsQ0FBQztRQTBGM0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FtQkc7UUFDaUIsV0FBTSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO0lBR3JFLENBQUM7SUFsTm1DLHNCQUFJLGtFQUFtQjthQUl6RDtZQUNFLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDO1FBQ25DLENBQUM7UUFmRDs7Ozs7Ozs7V0FRRzthQUMrQixVQUF3QixLQUFjO1lBQ3RFLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0RCxDQUFDOzs7T0FBQTtJQXdDb0Isc0JBQUksdURBQVE7YUFRakM7WUFDRSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDeEIsQ0FBQztRQWpDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQXNCRzthQUNrQixVQUFhLEtBQXVEO1lBQ3ZGLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1lBRXZCLElBQUksUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsRUFBRTtnQkFDN0IsSUFBSSxDQUFDLGVBQWUsR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDO2FBQ2hGO1FBQ0gsQ0FBQzs7O09BQUE7SUFhd0Isc0JBQUksMkRBQVk7YUFJekM7WUFDRSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDNUIsQ0FBQztRQWJEOzs7Ozs7V0FNRzthQUNzQixVQUFpQixLQUE2QztZQUNyRixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDakMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUN4RCxDQUFDOzs7T0FBQTtJQW1Ib0Isc0JBQUksc0RBQU87YUFJaEM7WUFDRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdkIsQ0FBQztRQWhCRDs7Ozs7Ozs7O1dBU0c7YUFDa0IsVUFBWSxLQUFhO1lBQzVDLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDckUsQ0FBQzs7O09BQUE7SUF0TGlDO1FBQWpDLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQzs7O2dGQUVoQztJQWVnQjtRQUFoQixLQUFLLENBQUMsUUFBUSxDQUFDOzttRUFBZTtJQXlCVjtRQUFwQixLQUFLLENBQUMsWUFBWSxDQUFDOzs7cUVBTW5CO0lBYXdCO1FBQXhCLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztrQ0FBeUIsS0FBSzt5Q0FBTCxLQUFLO3lFQUdyRDtJQVkwQjtRQUExQixLQUFLLENBQUMsa0JBQWtCLENBQUM7OzRFQUF3QjtJQU9oQztRQUFqQixLQUFLLENBQUMsU0FBUyxDQUFDOztvRUFBZ0I7SUFjWjtRQUFwQixLQUFLLENBQUMsWUFBWSxDQUFDOztzRUFBdUI7SUFzRWQ7UUFBNUIsS0FBSyxDQUFDLG9CQUFvQixDQUFDOzs2RUFBeUI7SUFZaEM7UUFBcEIsS0FBSyxDQUFDLFlBQVksQ0FBQzs7O29FQUduQjtJQXlCbUI7UUFBbkIsTUFBTSxDQUFDLFVBQVUsQ0FBQztrQ0FBUyxZQUFZO3FFQUEyQjtJQXRPL0MsaUNBQWlDO1FBRHRELFNBQVMsRUFBRTtPQUNVLGlDQUFpQyxDQXlPdEQ7SUFBRCx3Q0FBQztDQUFBLEFBek9ELElBeU9DO1NBek9xQixpQ0FBaUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIERpcmVjdGl2ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBQb01vZGFsQWN0aW9uIH0gZnJvbSAnQHBvLXVpL25nLWNvbXBvbmVudHMnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuLCBpc0V4dGVybmFsTGluaywgaXNUeXBlb2YgfSBmcm9tICcuLi8uLi91dGlscy91dGlsJztcblxuaW1wb3J0IHsgUG9QYWdlQ2hhbmdlUGFzc3dvcmRSZWNvdmVyeSB9IGZyb20gJy4vaW50ZXJmYWNlcy9wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZWNvdmVyeS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUG9QYWdlQ2hhbmdlUGFzc3dvcmRSZXF1aXJlbWVudCB9IGZyb20gJy4vaW50ZXJmYWNlcy9wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1aXJlbWVudC5pbnRlcmZhY2UnO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE8gY29tcG9uZW50ZSBgcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmRgIMOpIHV0aWxpemFkbyBjb21vIHRlbXBsYXRlIHBhcmEgdGVsYSBkZSBjYWRhc3RybyBvdSBhbHRlcmHDp8OjbyBkZSBzZW5oYS5cbiAqXG4gKiBBcHJlc2VudGEgZGljYXMgZSByZWdyYXMgcGFyYSBzZW5oYXMgbWFpcyBzZWd1cmFzIGUgdGFtYsOpbSBwb3NzaWJpbGlkYWRlIGRlIHBlcnNvbmFsaXphciBvIHJlZGlyZWNpb25hbWVudG8gcGFyYSBhcyB0ZWxhc1xuICogJ2VzcXVlY2V1IGEgc2VuaGEnLCAndm9sdGFyJyBlICdlbnRyYXIgbm8gc2lzdGVtYScuIE9zIHRleHRvcyBkYXMgdGVsYXMgc8OjbyBwcsOpLWRlZmluaWRvcyBlIGltdXTDoXZlaXMuXG4gKlxuICogQSBwcm9wcmllZGFkZSBgcC11cmwtbmV3LXBhc3N3b3JkYCBhdXRvbWF0aXphIGEgcm90aW5hIGRvIHRlbXBsYXRlIGUgc2ltcGxpZmljYSBvIHByb2Nlc3NvIGRlIGNhZGFzdHJvL2FsdGVyYcOnw6NvIGRlIHNlbmhhLCBiYXN0YW5kb1xuICogZGVmaW5pciB1bWEgdXJsIHBhcmEgUE9TVCBkYXMgaW5mb3JtYcOnw7VlcyBkaWdpdGFkYXMgcGVsbyB1c3XDoXJpby4gIEEgZmxleGliaWxpZGFkZSBlIHByYXRpY2lkYWRlIHBvZGVtIGNoZWdhciBhIHVtIG7DrXZlbCBlbSBxdWUgb1xuICogZGVzZW52b2x2aW1lbnRvIGRhIGFwbGljYcOnw6NvIG5vICpjbGllbnQgc2lkZSogw6kgZGVzcHJvdmlkYSBkZSBxdWFscXVlciBjw7NkaWdvLWZvbnRlIHJlbGFjaW9uYWRvIMOgIHJvdGluYSBkZSBjYWRhc3Ryby9hbHRlcmHDp8OjbyBkZSBzZW5oYS5cbiAqIFNldSBkZXRhbGhhbWVudG8gcGFyYSB1c28gcG9kZSBzZXIgdmlzdG8gbG9nbyBhYmFpeG8gZW0gKnByb3ByaWVkYWRlcyouXG4gKiBDYXNvIGp1bGd1ZSBuZWNlc3PDoXJpbywgcG9kZS1zZSB0YW1iw6ltIGRlZmluaXIgbWFudWFsbWVudGUgYSByb3RpbmEgZG8gY29tcG9uZW50ZS5cbiAqXG4gKiBQYXJhIHF1ZSBhcyBpbWFnZW5zIHNlamFtIGV4aWJpZGFzIGNvcnJldGFtZW50ZSwgw6kgbmVjZXNzw6FyaW8gaW5jbHVpciBvIGNhbWluaG8gZGVsYXMgYW8gcHJvamV0by4gUGFyYSBpc3NvLCBlZGl0ZVxuICogbyAqYXNzZXRzKiBubyBhcnF1aXZvICoqYW5ndWxhci5qc29uKiogZGEgYXBsaWNhw6fDo28gbmEgc2VndWludGUgb3JkZW06XG4gKiBgYGBcbiAqICAgXCJhc3NldHNcIjogW1xuICogICAgIFwic3JjL2Fzc2V0c1wiLFxuICogICAgIFwic3JjL2Zhdmljb24uaWNvXCIsXG4gKiAgICAge1xuICogICAgICAgXCJnbG9iXCI6IFwiKipcXC8qXCIsXG4gKiAgICAgICBcImlucHV0XCI6IFwibm9kZV9tb2R1bGVzL0Bwby11aS9zdHlsZS9pbWFnZXNcIixcbiAqICAgICAgIFwib3V0cHV0XCI6IFwiYXNzZXRzL2ltYWdlc1wiXG4gKiAgICAgfVxuICogICBdXG4gKiBgYGBcbiAqL1xuQERpcmVjdGl2ZSgpXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUG9QYWdlQ2hhbmdlUGFzc3dvcmRCYXNlQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBfaGlkZUN1cnJlbnRQYXNzd29yZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9yZWNvdmVyeTogc3RyaW5nIHwgUG9QYWdlQ2hhbmdlUGFzc3dvcmRSZWNvdmVyeSB8IEZ1bmN0aW9uO1xuICBwcml2YXRlIF9yZXF1aXJlbWVudHM6IEFycmF5PFBvUGFnZUNoYW5nZVBhc3N3b3JkUmVxdWlyZW1lbnQ+ID0gW107XG4gIHByaXZhdGUgX3VybEhvbWU6IHN0cmluZyA9ICcvJztcbiAgcHJvdGVjdGVkIHZhbGlkYXRvckNoYW5nZTogYW55O1xuXG4gIGNvbmZpcm1QYXNzd29yZDogc3RyaW5nO1xuICBjdXJyZW50UGFzc3dvcmQ6IHN0cmluZztcbiAgbW9kYWxBY3Rpb246IFBvTW9kYWxBY3Rpb247XG4gIG5ld1Bhc3N3b3JkOiBzdHJpbmc7XG4gIHJlY292ZXJ5VXJsVHlwZTogc3RyaW5nO1xuICBzaG93UmVxdWlyZW1lbnRzOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEVzY29uZGUgbyBjYW1wbyBgU2VuaGEgYXR1YWxgIHBhcmEgcXVlIG8gdGVtcGxhdGUgc2VqYSBwYXJhIGNyaWHDp8OjbyBkZSBzZW5oYS5cbiAgICpcbiAgICogQGRlZmF1bHQgYGZhbHNlYFxuICAgKi9cbiAgQElucHV0KCdwLWhpZGUtY3VycmVudC1wYXNzd29yZCcpIHNldCBoaWRlQ3VycmVudFBhc3N3b3JkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5faGlkZUN1cnJlbnRQYXNzd29yZCA9IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgZ2V0IGhpZGVDdXJyZW50UGFzc3dvcmQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hpZGVDdXJyZW50UGFzc3dvcmQ7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBDYW1pbmhvIHBhcmEgYSBsb2dvbWFyY2EgbG9jYWxpemFkYSBuYSBwYXJ0ZSBzdXBlcmlvci5cbiAgICpcbiAgICogPiBDYXNvIHNlamEgaW5kZWZpbmlkYSBvIGVzcGHDp28gc2UgbWFudMOpbSBwcmVzZXJ2YWRvIHBvcsOpbSB2YXppby5cbiAgICovXG4gIEBJbnB1dCgncC1sb2dvJykgbG9nbz86IHN0cmluZztcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBVUkwgcGFyYSBhIGHDp8OjbyBkbyBsaW5rIGBFc3F1ZWNldSBhIHNlbmhhYC5cbiAgICpcbiAgICogQSBwcm9wcmllZGFkZSBhY2VpdGEgb3Mgc2VndWludGVzIHRpcG9zOlxuICAgKlxuICAgKiAtICoqU3RyaW5nKio6IGluZm9ybWUgdW1hIHVybCBleHRlcm5hIG91IHVtYSByb3RhIHbDoWxpZGE7XG4gICAqIC0gKipGdW5jdGlvbioqOiBwb2RlLXNlIGN1c3RvbWl6YXIgYSBhw6fDo28uIFBhcmEgZXN0YSBwb3NzaWxpZGFkZSBiYXN0YSBhdHJpYnVpcjpcbiAgICogYGBgXG4gICAqIDxwby1wYWdlLWNoYW5nZS1wYXNzd29yZD5cbiAgICogICAgICBbcmVjb3ZlcnldPVwidGhpcy5teUZ1bmMuYmluZCh0aGlzKVwiO1xuICAgKiA8L3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkPlxuICAgKiBgYGBcbiAgICpcbiAgICogLSAqKlBvUGFnZUNoYW5nZVBhc3N3b3JkUmVjb3ZlcnkqKjogY3JpYS1zZSB2w61uY3VsbyBhdXRvbcOhdGljbyBjb20gbyB0ZW1wbGF0ZSAqKnBvLW1vZGFsLXBhc3N3b3JkLXJlY292ZXJ5KiouXG4gICAqICAgTyBvYmpldG8gZGV2ZSBjb250ZXIgYSAqKnVybCoqIHBhcmEgcmVxdWlzacOnw6NvIGRvcyByZWN1cnNvcyBlIHBvZGUtc2UgZGVmaW5pciBvICoqdGlwbyoqIGRlIG1vZGFsIHBhcmEgcmVjdXBlcmHDp8OjbyBkZSBzZW5oYSxcbiAgICogICAqKmVtYWlsKiogcGFyYSBjb250YXRvIGUgKiptw6FzY2FyYSoqIGRvIGNhbXBvIGRlIHRlbGVmb25lLlxuICAgKlxuICAgKiA+IENhc28gbsOjbyB0ZW5oYSB2YWxvciBvIGxpbmsgYEVzcXVlY2V1IGEgc2VuaGFgIGRlc2FwYXJlY2UuXG4gICAqL1xuICBASW5wdXQoJ3AtcmVjb3ZlcnknKSBzZXQgcmVjb3ZlcnkodmFsdWU6IHN0cmluZyB8IEZ1bmN0aW9uIHwgUG9QYWdlQ2hhbmdlUGFzc3dvcmRSZWNvdmVyeSkge1xuICAgIHRoaXMuX3JlY292ZXJ5ID0gdmFsdWU7XG5cbiAgICBpZiAoaXNUeXBlb2YodmFsdWUsICdzdHJpbmcnKSkge1xuICAgICAgdGhpcy5yZWNvdmVyeVVybFR5cGUgPSBpc0V4dGVybmFsTGluayh2YWx1ZSkgPyAnZXh0ZXJuYWxMaW5rJyA6ICdpbnRlcm5hbExpbmsnO1xuICAgIH1cbiAgfVxuXG4gIGdldCByZWNvdmVyeSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVjb3Zlcnk7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBMaXN0YSBkZSByZWdyYXMgcGFyYSBjcmlhw6fDo28gZSBhbHRlcmHDp8OjbyBkZSBzZW5oYS5cbiAgICovXG4gIEBJbnB1dCgncC1yZXF1aXJlbWVudHMnKSBzZXQgcmVxdWlyZW1lbnRzKHZhbHVlOiBBcnJheTxQb1BhZ2VDaGFuZ2VQYXNzd29yZFJlcXVpcmVtZW50Pikge1xuICAgIHRoaXMuX3JlcXVpcmVtZW50cyA9IHZhbHVlIHx8IFtdO1xuICAgIHRoaXMuc2hvd1JlcXVpcmVtZW50cyA9IHRoaXMuX3JlcXVpcmVtZW50cy5sZW5ndGggPiAwO1xuICB9XG4gIGdldCByZXF1aXJlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVpcmVtZW50cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENhbWluaG8gcGFyYSBhIGxvZ29tYXJjYSBsb2NhbGl6YWRhIG5vIHJvZGFww6kuXG4gICAqL1xuICBASW5wdXQoJ3Atc2Vjb25kYXJ5LWxvZ28nKSBzZWNvbmRhcnlMb2dvPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUb2tlbiBwYXJhIHNvbGljaXRhw6fDo28gZGUgdHJvY2EvcmVjdXBlcmHDp8OjbyBkZSBzZW5oYS5cbiAgICpcbiAgICogPiBFc3RhIHByb3ByaWVkYWRlIHNlcsOhIGlnbm9yYWRhIGNhc28gZXhpc3RhIHVtIHRva2VuIGNvbW8gcGFyw6JtZXRybyBuYSBVUkwgaW5pY2lhbCBkbyB0ZW1wbGF0ZS5cbiAgICovXG4gIEBJbnB1dCgncC10b2tlbicpIHRva2VuPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFVSTCBwYXJhIGEgYcOnw6NvIGRlIHJldG9ybm8gZGEgcMOhZ2luYS5cbiAgICpcbiAgICogPiBPIGJvdMOjbyBgVm9sdGFyYCBhcGFyZWNlIGFwZW5hcyBwYXJhIHRlbGFzIGRlIGFsdGVyYcOnw6NvIGRlIHNlbmhhLCBvdSBzZWphLCBzw7MgYXBhcmVjZSBzZSBhIHByb3ByaWVkYWRlIGBwLWhpZGUtY3VycmVudC1wYXNzd29yZGAgZm9yXG4gICAqIGZhbHNhLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgL2BcbiAgICovXG4gIEBJbnB1dCgncC11cmwtYmFjaycpIHVybEJhY2s6IHN0cmluZyA9ICcvJztcblxuICAvKipcbiAgICogRW5kcG9pbnQgdXNhZG8gcGVsbyB0ZW1wbGF0ZSBwYXJhIHJlYWxpemFyIHVtIFBPU1QuIFF1YW5kbyBwcmVlbmNoaWRvLCBvIG3DqXRvZG8gYHAtc3VibWl0YCBzZXLDoSBpZ25vcmFkbyBlIG8gY29tcG9uZW50ZSBhZHF1aXJpcsOhXG4gICAqIGF1dG9tYXRpemHDp8OjbyBwYXJhIG8gcHJvY2Vzc28gZGUgY2FkYXN0cm8vdHJvY2EgZGUgc2VuaGEuXG4gICAqXG4gICAqICMjIyBQcm9jZXNzb1xuICAgKiBBbyBkaWdpdGFyIHVtIHZhbG9yIHbDoWxpZG8gbm9zIGNhbXBvcyBkZSBzZW5oYSBlIHByZXNzaW9uYXIgKipzYWx2YXIqKixcbiAgICogbyBjb21wb25lbnRlIGZhcsOhIHVtYSByZXF1aXNpw6fDo28gYFBPU1RgIG5hIHVybCBlc3BlY2lmaWNhZGEgbmVzdGEgcHJvcHJpZWRhZGUgcGFzc2FuZG8gbyBvYmpldG8gY29udGVuZG8gb3MgdmFsb3JlcyBkZWZpbmlkb3MgcGVsb1xuICAgKiB1c3XDoXJpby5cbiAgICpcbiAgICogYGBgXG4gICAqIGJvZHkge1xuICAgKiAgdG9rZW4/OiB0b2tlbixcbiAgICogIG9sZFBhc3N3b3JkPzogb2xkUGFzc3dvcmQsXG4gICAqICBuZXdQYXNzd29yZDogbmV3UGFzc3dvcmRcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogTyBjw7NkaWdvIGRlIHJlc3Bvc3RhIEhUVFAgZGUgc3RhdHVzIGVzcGVyYWRvIMOpIGAyMDRgLlxuICAgKlxuICAgKiBFbSBjYXNvIGRlICoqc3VjZXNzbyoqLCBzZXLDoSBleGliaWRhIGEgbW9kYWwgZGUgY29uZmlybWHDp8OjbyBkZSBzZW5oYSBhbHRlcmFkYS5cbiAgICpcbiAgICogPiBPIHRva2VuIHNlcsOhIGluZm9ybWFkbyBwZWxhIHByb3ByaWVkYWRlIGBwLXRva2VuYGRvIGNvbXBvbmVudGUgb3UgcG9yIHVtICpxdWVyeSBwYXJhbWV0ZXIqIG5hIFVSTCBkbyB0ZW1wbGF0ZS5cbiAgICpcbiAgICogKlByb2Nlc3NvIGZpbmFsaXphZG8uKlxuICAgKlxuICAgKiBfX19fX19fX19fX19fX19cbiAgICpcbiAgICogIyMjIyBQcmF0aWNpZGFkZVxuICAgKiBBcyBpbmZvcm1hw6fDtWVzIGRvIHNlcnZpw6dvIGRlIGF1dGVudGljYcOnw6NvIHRhbWLDqW0gcG9kZW0gc2VyIHRyYW5zbWl0aWRhcyBkaXJldGFtZW50ZSBwZWxhcyBjb25maWd1cmHDp8Ojb3MgZGUgcm90YSBlLCBkZXN0YSBtYW5laXJhLFxuICAgKiBkaXNwZW5zYS1zZSBxdWFscXVlciBtZW7Dp8OjbyBlL291IGltcG9ydGHDp8OjbyBkbyBjb21wb25lbnRlIGBwby1wYWdlLWNoYW5nZS1wYXNzd29yZGAgbm8gcmVzdGFudGUgZGEgYXBsaWNhw6fDo28uIE8gZXhlbXBsbyBhYmFpeG9cbiAgICogZXhlbXBsaWZpY2EgYSBmb3JtYSBkaW7Dom1pY2EgY29tIGEgcXVhbCBvIHRlbXBsYXRlIGRlIHRlbGEgZGUgdHJvY2EgZGUgc2VuaGEgcG9kZSBzZXIgZ2VyYWRvIGFvIG5hdmVnYXIgcGFyYSByb3RhIGAvY2hhbmdlLXBhc3N3b3JkYCwgZVxuICAgKiB0YW1iw6ltIGNvbW8gZWxlIHNlIGNvbXVuaWNhIGNvbSBvIHNlcnZpw6dvIHBhcmEgZWZldHVhw6fDo28gZG8gcHJvY2Vzc28gZGUgdHJvY2EgZGUgc2VuaGEgZG8gdXN1w6FyaW8gZSBzb2xpY2l0YcOnw6NvIGRlIG5vdmEgc2VuaGEuXG4gICAqIEJhc3RhIGRlZmluaXIgbmFzIGNvbmZpZ3VyYcOnw7VlcyBkZSByb3RhOlxuICAgKlxuICAgKlxuICAgKiBgYGBcbiAgICogICBpbXBvcnQgeyBQb01vZGFsUGFzc3dvcmRSZWNvdmVyeVR5cGUsIFBvUGFnZUNoYW5nZVBhc3N3b3JkQ29tcG9uZW50IH0gZnJvbSAnQHBvLXVpL25nLXRlbXBsYXRlcyc7XG4gICAqXG4gICAqICAgLi4uXG4gICAqICAgY29uc3Qgcm91dGVzOiBSb3V0ZXMgPSBbXG4gICAqICAgICB7XG4gICAqICAgICAgIHBhdGg6ICdjaGFuZ2UtcGFzc3dvcmQnLCBjb21wb25lbnQ6IFBvUGFnZUNoYW5nZVBhc3N3b3JkQ29tcG9uZW50LCBkYXRhOiB7XG4gICAqICAgICAgICAgc2VydmljZUFwaTogJ2h0dHBzOi8vcG8tdWkuaW8vc2FtcGxlL2FwaS9uZXctcGFzc3dvcmQnLFxuICAgKiAgICAgICAgIHJlY292ZXJ5OiB7XG4gICAqICAgICAgICAgICB1cmw6ICdodHRwczovL3BvLXVpLmlvL3NhbXBsZS9hcGkvdXNlcnMnLFxuICAgKiAgICAgICAgICAgdHlwZTogUG9Nb2RhbFBhc3N3b3JkUmVjb3ZlcnlUeXBlLkFsbCxcbiAgICogICAgICAgICAgIGNvbnRhY3RNYWlsOiAnZGV2LnBvQHBvLXVpLmNvbScsXG4gICAqICAgICAgICAgICBwaG9uZU1hc2s6ICc5LTk5OS05OTktOTk5OSdcbiAgICogICAgICAgICB9XG4gICAqICAgICAgIH1cbiAgICogICAgIH1cbiAgICogICAgIC4uLlxuICAgKiAgIF07XG4gICAqXG4gICAqICAgQE5nTW9kdWxlKHtcbiAgICogICAgIGltcG9ydHM6IFtSb3V0ZXJNb2R1bGUuZm9yUm9vdChyb3V0ZXMpXSxcbiAgICogICAgIGV4cG9ydHM6IFtSb3V0ZXJNb2R1bGVdXG4gICAqICAgfSlcbiAgICogICBleHBvcnQgY2xhc3MgQXBwUm91dGluZ01vZHVsZSB7IH1cbiAgICogYGBgXG4gICAqXG4gICAqXG4gICAqIE8gbWV0YWRhZG8gYHNlcnZpY2VBcGlgIGRldmUgc2VyIGEgKip1cmwqKiBwYXJhIHJlcXVpc2nDp8OjbyBkb3MgcmVjdXJzb3MgZGUgdHJvY2EgZGUgc2VuaGEuIEUgYHJlY292ZXJ5YCDDqSBhIGludGVyZmFjZVxuICAgKiBgUG9QYWdlQ2hhbmdlUGFzc3dvcmRSZWNvdmVyeWAgcmVzcG9uc8OhdmVsIHBlbGFzIGVzcGVjaWZpY2HDp8O1ZXMgY29udGlkYXMgbmEgbW9kYWwgZGUgcmVjdXBlcmHDp8OjbyBkZSBzZW5oYS5cbiAgICpcbiAgICogPiDDiSBlc3NlbmNpYWwgcXVlIHNpZ2EgYSBub21lbmNsYXR1cmEgZG9zIGF0cmlidXRvcyBleGVtcGxpZmljYWRvcyBhY2ltYSBwYXJhIHN1YSBlZmV0aXZhIGZ1bmNpb25hbGlkYWRlLlxuICAgKlxuICAgKi9cbiAgQElucHV0KCdwLXVybC1uZXctcGFzc3dvcmQnKSB1cmxOZXdQYXNzd29yZD86IHN0cmluZztcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBVUkwgcGFyYSBhIGHDp8OjbyBkbyBib3TDo28gYEVudHJhciBubyBzaXN0ZW1hYCBkYSBtb2RhbCBkZSBjb25maXJtYcOnw6NvIHF1ZSBhcGFyZWNlIGFww7NzIHNhbHZhciBhIHNlbmhhIG91IHNlIGNoYW1hZGEgcGVsbyBtw6l0b2RvXG4gICAqIGBvcGVuQ29uZmlybWF0aW9uYC5cbiAgICpcbiAgICogQGRlZmF1bHQgYC9gXG4gICAqL1xuICBASW5wdXQoJ3AtdXJsLWhvbWUnKSBzZXQgdXJsSG9tZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fdXJsSG9tZSA9IHZhbHVlO1xuICAgIHRoaXMubW9kYWxBY3Rpb24uYWN0aW9uID0gdGhpcy5uYXZpZ2F0ZVRvLmJpbmQodGhpcywgdGhpcy51cmxIb21lKTtcbiAgfVxuICBnZXQgdXJsSG9tZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXJsSG9tZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEZ1bsOnw6NvIGV4ZWN1dGFkYSBhbyBzdWJtZXRlciBvIGZvcm0gcGVsbyBib3TDo28gc2FsdmFyLlxuICAgKlxuICAgKiBDYXNvIGRlZmluaWRhIGVzc2EgZnVuw6fDo28sIGEgbW9kYWwgZGUgY29uZmlybWHDp8OjbyBuw6NvIGFwYXJlY2UsIG1hcyBwb2RlIHNlciBjaGFtYWRhIHBlbG9cbiAgICogbcOpdG9kbyBgb3BlbkNvbmZpcm1hdGlvbmAuIEV4ZW1wbG86XG4gICAqXG4gICAqIGBgYFxuICAgKiBAVmlld0NoaWxkKFBvUGFnZUNoYW5nZVBhc3N3b3JkQ29tcG9uZW50KSBjaGFuZ2VQYXNzd29yZDogUG9QYWdlQ2hhbmdlUGFzc3dvcmRDb21wb25lbnQ7XG4gICAqXG4gICAqIG9uU3VibWl0KCkge1xuICAgKiAgdGhpcy5jaGFuZ2VQYXNzd29yZC5vcGVuQ29uZmlybWF0aW9uKCk7XG4gICAqIH1cbiAgICpcbiAgICogYGBgXG4gICAqID4gRXN0YSBwcm9wcmllZGFkZSBzZXLDoSBpZ25vcmFkYSBzZSBmb3IgZGVmaW5pZG8gdmFsb3IgcGFyYSBhIHByb3ByaWVkYWRlIGBwLXVybC1uZXctcGFzc3dvcmRgLlxuICAgKi9cbiAgQE91dHB1dCgncC1zdWJtaXQnKSBzdWJtaXQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIGFic3RyYWN0IG5hdmlnYXRlVG8odXJsOiBzdHJpbmcpOiB2b2lkO1xufVxuIl19