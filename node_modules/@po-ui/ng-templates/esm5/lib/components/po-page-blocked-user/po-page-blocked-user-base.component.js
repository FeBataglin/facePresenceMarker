import { __assign, __decorate, __metadata } from "tslib";
import { Input, Directive } from '@angular/core';
import { PoPageBlockedUserReason } from './enums/po-page-blocked-user-reason.enum';
var PoPageBlockedUserReasonDefault = PoPageBlockedUserReason.None;
var PoPageBlockedUserParamsDefault = { attempts: 5, days: 90, hours: 24 };
/**
 * @description
 *
 * O componente `po-page-blocked-user` é utilizado como template para tela de bloqueio de usuário.
 * É possível definir entre três tipos de telas para alertar o usuário sobre um eventual bloqueio de login.
 *
 * Cada modelo de bloqueio possui uma imagem e texto adequados à situação.
 * Os textos das telas são pré-definidos e imutáveis, porém,
 * é possível estipular parâmetros como dias, horas e tentativas de acesso esgotadas.
 *
 * Por fim, há propriedades para adição de telefone e/ou email para contato e também a definição para a url de retorno.
 *
 * Para que as imagens sejam exibidas corretamente, é necessário incluir o caminho delas ao projeto. Para isso, edite
 * o *assets* no arquivo **angular.json** da aplicação na seguinte ordem:
 * ```
 *   "assets": [
 *     "src/assets",
 *     "src/favicon.ico",
 *     {
 *       "glob": "**\/*",
 *       "input": "node_modules/@po-ui/style/images",
 *       "output": "assets/images"
 *     }
 *   ]
 * ```
 *
 * _______________
 *
 * #### Praticidade
 * O `po-page-blocked-user`, assim como suas propriedades, pode também ser transmitido diretamente pelas configuraçãos de rota e,
 * desta maneira, dispensa-se qualquer menção e/ou importação no restante da aplicação. O exemplo abaixo exemplifica
 * a forma dinâmica com a qual o template pode ser gerado se navegasse para uma rota denominada como `/access-denied`:
 *
 *
 * ```
 *   import { PoPageBlockedUserComponent, PoPageBlockedUserReason } from '@po-ui/ng-templates';
 *
 *   ...
 *   const routes: Routes = [
 *     {
 *       path: 'access-denied', component: PoPageBlockedUserComponent, data: {
 *         contactEmail: 'dev.po@po-ui.com',
 *         contactPhone: '0800 1234 000',
 *         reason: PoPageBlockedUserReason.ExpiredPassword,
 *         urlBack: '/home'
 *       }
 *     }
 *     ...
 *   ];
 *
 *   @NgModule({
 *     imports: [RouterModule.forRoot(routes)],
 *     exports: [RouterModule]
 *   })
 *   export class AppRoutingModule { }
 * ```
 *
 * > É essencial que siga a nomenclatura dos atributos exemplificados acima para sua efetiva funcionalidade.
 *
 */
var PoPageBlockedUserBaseComponent = /** @class */ (function () {
    function PoPageBlockedUserBaseComponent() {
        this._params = __assign({}, PoPageBlockedUserParamsDefault);
        this._reason = PoPageBlockedUserReason.None;
        this._urlBack = '/';
    }
    Object.defineProperty(PoPageBlockedUserBaseComponent.prototype, "params", {
        get: function () {
            return this._params;
        },
        /**
         * @optional
         *
         * @description
         *
         * Designação de valores usados para a customização da mensagem de bloqueio.
         * Confira abaixo os valores pré-definidos.
         *
         * ```
         *  const customLiterals: PoPageBlockedUserReasonParams = {
         *    attempts: 5,
         *    days: 90,
         *    hours: 24
         *  };
         * ```
         *
         * > Salientamos a importância e atenção para configuração desses valores conforme definidos no projeto.
         *
         * > Veja os parâmetros customizáveis na interface `PoPageBlockedUserReasonParams`.
         *
         */
        set: function (value) {
            if (value instanceof Object) {
                var keys = Object.keys(value);
                var newParams_1 = __assign({}, PoPageBlockedUserParamsDefault);
                keys.forEach(function (key) {
                    newParams_1[key] = value[key];
                });
                this._params = newParams_1;
            }
            else {
                this._params = __assign({}, PoPageBlockedUserParamsDefault);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoPageBlockedUserBaseComponent.prototype, "reason", {
        get: function () {
            return this._reason;
        },
        /**
         * @optional
         *
         * @description
         *
         * Definição de motivo de bloqueio de usuário. As informações modificam conforme o motivo selecionado.
         *
         * > Veja os valores válidos no *enum* `PoPageBlockedUserReason`.
         *
         * @default `PoPageBlockedUserReason.None`
         */
        set: function (value) {
            this._reason = Object.values(PoPageBlockedUserReason).includes(value)
                ? value
                : PoPageBlockedUserReasonDefault;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PoPageBlockedUserBaseComponent.prototype, "urlBack", {
        get: function () {
            return this._urlBack;
        },
        /**
         * @optional
         *
         * @description
         *
         * URL para a ação de retorno da página.
         *
         * @default `/`
         */
        set: function (url) {
            this._urlBack = url;
        },
        enumerable: true,
        configurable: true
    });
    __decorate([
        Input('p-contact-email'),
        __metadata("design:type", String)
    ], PoPageBlockedUserBaseComponent.prototype, "contactEmail", void 0);
    __decorate([
        Input('p-contact-phone'),
        __metadata("design:type", String)
    ], PoPageBlockedUserBaseComponent.prototype, "contactPhone", void 0);
    __decorate([
        Input('p-params'),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], PoPageBlockedUserBaseComponent.prototype, "params", null);
    __decorate([
        Input('p-logo'),
        __metadata("design:type", String)
    ], PoPageBlockedUserBaseComponent.prototype, "logo", void 0);
    __decorate([
        Input('p-reason'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], PoPageBlockedUserBaseComponent.prototype, "reason", null);
    __decorate([
        Input('p-secondary-logo'),
        __metadata("design:type", String)
    ], PoPageBlockedUserBaseComponent.prototype, "secondaryLogo", void 0);
    __decorate([
        Input('p-url-back'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], PoPageBlockedUserBaseComponent.prototype, "urlBack", null);
    PoPageBlockedUserBaseComponent = __decorate([
        Directive()
    ], PoPageBlockedUserBaseComponent);
    return PoPageBlockedUserBaseComponent;
}());
export { PoPageBlockedUserBaseComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1ibG9ja2VkLXVzZXItYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcG8tdWkvbmctdGVtcGxhdGVzLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcG8tcGFnZS1ibG9ja2VkLXVzZXIvcG8tcGFnZS1ibG9ja2VkLXVzZXItYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRWpELE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBR25GLElBQU0sOEJBQThCLEdBQTRCLHVCQUF1QixDQUFDLElBQUksQ0FBQztBQUM3RixJQUFNLDhCQUE4QixHQUFrQyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUM7QUFFM0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBMkRHO0FBRUg7SUFBQTtRQUNVLFlBQU8sZ0JBQXVDLDhCQUE4QixFQUFHO1FBQy9FLFlBQU8sR0FBNEIsdUJBQXVCLENBQUMsSUFBSSxDQUFDO1FBQ2hFLGFBQVEsR0FBVyxHQUFHLENBQUM7SUFnSGpDLENBQUM7SUFwRW9CLHNCQUFJLGtEQUFNO2FBZTdCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ3RCLENBQUM7UUF0Q0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBb0JHO2FBQ2dCLFVBQVcsS0FBb0M7WUFDaEUsSUFBSSxLQUFLLFlBQVksTUFBTSxFQUFFO2dCQUMzQixJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNoQyxJQUFNLFdBQVMsZ0JBQVEsOEJBQThCLENBQUUsQ0FBQztnQkFFeEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFBLEdBQUc7b0JBQ2QsV0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDOUIsQ0FBQyxDQUFDLENBQUM7Z0JBRUgsSUFBSSxDQUFDLE9BQU8sR0FBRyxXQUFTLENBQUM7YUFDMUI7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLE9BQU8sZ0JBQVEsOEJBQThCLENBQUUsQ0FBQzthQUN0RDtRQUNILENBQUM7OztPQUFBO0lBb0JrQixzQkFBSSxrREFBTTthQU03QjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN0QixDQUFDO1FBbkJEOzs7Ozs7Ozs7O1dBVUc7YUFDZ0IsVUFBVyxLQUE4QjtZQUMxRCxJQUFJLENBQUMsT0FBTyxHQUFTLE1BQU8sQ0FBQyxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO2dCQUMxRSxDQUFDLENBQUMsS0FBSztnQkFDUCxDQUFDLENBQUMsOEJBQThCLENBQUM7UUFDckMsQ0FBQzs7O09BQUE7SUF3Qm9CLHNCQUFJLG1EQUFPO2FBSWhDO1lBQ0UsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3ZCLENBQUM7UUFmRDs7Ozs7Ozs7V0FRRzthQUNrQixVQUFZLEdBQVc7WUFDMUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7UUFDdEIsQ0FBQzs7O09BQUE7SUFqR3lCO1FBQXpCLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQzs7d0VBQXNCO0lBV3JCO1FBQXpCLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQzs7d0VBQXNCO0lBdUI1QjtRQUFsQixLQUFLLENBQUMsVUFBVSxDQUFDOzs7Z0VBYWpCO0lBT2dCO1FBQWhCLEtBQUssQ0FBQyxRQUFRLENBQUM7O2dFQUFlO0lBYVo7UUFBbEIsS0FBSyxDQUFDLFVBQVUsQ0FBQzs7O2dFQUlqQjtJQWEwQjtRQUExQixLQUFLLENBQUMsa0JBQWtCLENBQUM7O3lFQUF3QjtJQVc3QjtRQUFwQixLQUFLLENBQUMsWUFBWSxDQUFDOzs7aUVBRW5CO0lBOUdVLDhCQUE4QjtRQUQxQyxTQUFTLEVBQUU7T0FDQyw4QkFBOEIsQ0FtSDFDO0lBQUQscUNBQUM7Q0FBQSxBQW5IRCxJQW1IQztTQW5IWSw4QkFBOEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnB1dCwgRGlyZWN0aXZlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uIH0gZnJvbSAnLi9lbnVtcy9wby1wYWdlLWJsb2NrZWQtdXNlci1yZWFzb24uZW51bSc7XG5pbXBvcnQgeyBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvblBhcmFtcyB9IGZyb20gJy4vaW50ZXJmYWNlcy9wby1wYWdlLWJsb2NrZWQtdXNlci1yZWFzb24tcGFyYW1zLmludGVyZmFjZSc7XG5cbmNvbnN0IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uRGVmYXVsdDogUG9QYWdlQmxvY2tlZFVzZXJSZWFzb24gPSBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvbi5Ob25lO1xuY29uc3QgUG9QYWdlQmxvY2tlZFVzZXJQYXJhbXNEZWZhdWx0OiBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvblBhcmFtcyA9IHsgYXR0ZW1wdHM6IDUsIGRheXM6IDkwLCBob3VyczogMjQgfTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBPIGNvbXBvbmVudGUgYHBvLXBhZ2UtYmxvY2tlZC11c2VyYCDDqSB1dGlsaXphZG8gY29tbyB0ZW1wbGF0ZSBwYXJhIHRlbGEgZGUgYmxvcXVlaW8gZGUgdXN1w6FyaW8uXG4gKiDDiSBwb3Nzw612ZWwgZGVmaW5pciBlbnRyZSB0csOqcyB0aXBvcyBkZSB0ZWxhcyBwYXJhIGFsZXJ0YXIgbyB1c3XDoXJpbyBzb2JyZSB1bSBldmVudHVhbCBibG9xdWVpbyBkZSBsb2dpbi5cbiAqXG4gKiBDYWRhIG1vZGVsbyBkZSBibG9xdWVpbyBwb3NzdWkgdW1hIGltYWdlbSBlIHRleHRvIGFkZXF1YWRvcyDDoCBzaXR1YcOnw6NvLlxuICogT3MgdGV4dG9zIGRhcyB0ZWxhcyBzw6NvIHByw6ktZGVmaW5pZG9zIGUgaW11dMOhdmVpcywgcG9yw6ltLFxuICogw6kgcG9zc8OtdmVsIGVzdGlwdWxhciBwYXLDom1ldHJvcyBjb21vIGRpYXMsIGhvcmFzIGUgdGVudGF0aXZhcyBkZSBhY2Vzc28gZXNnb3RhZGFzLlxuICpcbiAqIFBvciBmaW0sIGjDoSBwcm9wcmllZGFkZXMgcGFyYSBhZGnDp8OjbyBkZSB0ZWxlZm9uZSBlL291IGVtYWlsIHBhcmEgY29udGF0byBlIHRhbWLDqW0gYSBkZWZpbmnDp8OjbyBwYXJhIGEgdXJsIGRlIHJldG9ybm8uXG4gKlxuICogUGFyYSBxdWUgYXMgaW1hZ2VucyBzZWphbSBleGliaWRhcyBjb3JyZXRhbWVudGUsIMOpIG5lY2Vzc8OhcmlvIGluY2x1aXIgbyBjYW1pbmhvIGRlbGFzIGFvIHByb2pldG8uIFBhcmEgaXNzbywgZWRpdGVcbiAqIG8gKmFzc2V0cyogbm8gYXJxdWl2byAqKmFuZ3VsYXIuanNvbioqIGRhIGFwbGljYcOnw6NvIG5hIHNlZ3VpbnRlIG9yZGVtOlxuICogYGBgXG4gKiAgIFwiYXNzZXRzXCI6IFtcbiAqICAgICBcInNyYy9hc3NldHNcIixcbiAqICAgICBcInNyYy9mYXZpY29uLmljb1wiLFxuICogICAgIHtcbiAqICAgICAgIFwiZ2xvYlwiOiBcIioqXFwvKlwiLFxuICogICAgICAgXCJpbnB1dFwiOiBcIm5vZGVfbW9kdWxlcy9AcG8tdWkvc3R5bGUvaW1hZ2VzXCIsXG4gKiAgICAgICBcIm91dHB1dFwiOiBcImFzc2V0cy9pbWFnZXNcIlxuICogICAgIH1cbiAqICAgXVxuICogYGBgXG4gKlxuICogX19fX19fX19fX19fX19fXG4gKlxuICogIyMjIyBQcmF0aWNpZGFkZVxuICogTyBgcG8tcGFnZS1ibG9ja2VkLXVzZXJgLCBhc3NpbSBjb21vIHN1YXMgcHJvcHJpZWRhZGVzLCBwb2RlIHRhbWLDqW0gc2VyIHRyYW5zbWl0aWRvIGRpcmV0YW1lbnRlIHBlbGFzIGNvbmZpZ3VyYcOnw6NvcyBkZSByb3RhIGUsXG4gKiBkZXN0YSBtYW5laXJhLCBkaXNwZW5zYS1zZSBxdWFscXVlciBtZW7Dp8OjbyBlL291IGltcG9ydGHDp8OjbyBubyByZXN0YW50ZSBkYSBhcGxpY2HDp8Ojby4gTyBleGVtcGxvIGFiYWl4byBleGVtcGxpZmljYVxuICogYSBmb3JtYSBkaW7Dom1pY2EgY29tIGEgcXVhbCBvIHRlbXBsYXRlIHBvZGUgc2VyIGdlcmFkbyBzZSBuYXZlZ2Fzc2UgcGFyYSB1bWEgcm90YSBkZW5vbWluYWRhIGNvbW8gYC9hY2Nlc3MtZGVuaWVkYDpcbiAqXG4gKlxuICogYGBgXG4gKiAgIGltcG9ydCB7IFBvUGFnZUJsb2NrZWRVc2VyQ29tcG9uZW50LCBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvbiB9IGZyb20gJ0Bwby11aS9uZy10ZW1wbGF0ZXMnO1xuICpcbiAqICAgLi4uXG4gKiAgIGNvbnN0IHJvdXRlczogUm91dGVzID0gW1xuICogICAgIHtcbiAqICAgICAgIHBhdGg6ICdhY2Nlc3MtZGVuaWVkJywgY29tcG9uZW50OiBQb1BhZ2VCbG9ja2VkVXNlckNvbXBvbmVudCwgZGF0YToge1xuICogICAgICAgICBjb250YWN0RW1haWw6ICdkZXYucG9AcG8tdWkuY29tJyxcbiAqICAgICAgICAgY29udGFjdFBob25lOiAnMDgwMCAxMjM0IDAwMCcsXG4gKiAgICAgICAgIHJlYXNvbjogUG9QYWdlQmxvY2tlZFVzZXJSZWFzb24uRXhwaXJlZFBhc3N3b3JkLFxuICogICAgICAgICB1cmxCYWNrOiAnL2hvbWUnXG4gKiAgICAgICB9XG4gKiAgICAgfVxuICogICAgIC4uLlxuICogICBdO1xuICpcbiAqICAgQE5nTW9kdWxlKHtcbiAqICAgICBpbXBvcnRzOiBbUm91dGVyTW9kdWxlLmZvclJvb3Qocm91dGVzKV0sXG4gKiAgICAgZXhwb3J0czogW1JvdXRlck1vZHVsZV1cbiAqICAgfSlcbiAqICAgZXhwb3J0IGNsYXNzIEFwcFJvdXRpbmdNb2R1bGUgeyB9XG4gKiBgYGBcbiAqXG4gKiA+IMOJIGVzc2VuY2lhbCBxdWUgc2lnYSBhIG5vbWVuY2xhdHVyYSBkb3MgYXRyaWJ1dG9zIGV4ZW1wbGlmaWNhZG9zIGFjaW1hIHBhcmEgc3VhIGVmZXRpdmEgZnVuY2lvbmFsaWRhZGUuXG4gKlxuICovXG5ARGlyZWN0aXZlKClcbmV4cG9ydCBjbGFzcyBQb1BhZ2VCbG9ja2VkVXNlckJhc2VDb21wb25lbnQge1xuICBwcml2YXRlIF9wYXJhbXM6IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uUGFyYW1zID0geyAuLi5Qb1BhZ2VCbG9ja2VkVXNlclBhcmFtc0RlZmF1bHQgfTtcbiAgcHJpdmF0ZSBfcmVhc29uOiBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvbiA9IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uLk5vbmU7XG4gIHByaXZhdGUgX3VybEJhY2s6IHN0cmluZyA9ICcvJztcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBWYWxvciBwYXJhIG8gZW1haWwgZGUgY29udGF0byBxdWUgZGV2ZSBzZXIgZXhpYmlkby4gQSBhw6fDo28gZXN0w6EgZGUgYWNvcmRvIGNvbSBvIHByb3RvY29sbyBNQUlMVE8gZSDDqSBwb3Nzw612ZWwgZGVmaW5pclxuICAgKiB0YW50byByb3RhcyBpbnRlcm5hcyBxdWFudG8gZXh0ZXJuYXMuXG4gICAqL1xuICBASW5wdXQoJ3AtY29udGFjdC1lbWFpbCcpIGNvbnRhY3RFbWFpbDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFZhbG9yIHBhcmEgbyB0ZWxlZm9uZSBkZSBjb250YXRvIHF1ZSBkZXZlIHNlciBleGliaWRvLiBBIGHDp8OjbyBlc3TDoSBkZSBhY29yZG8gY29tIG8gcHJvdG9jb2xvIFRFTC5cbiAgICpcbiAgICogPiBBIHByb3ByaWVkYWRlIG7Do28gY29udGVtIHRyYXRhbWVudG8gZGUgbcOhc2NhcmEsIGZpY2EgYSBjcml0w6lyaW8gZG8gZGVzZW52b2x2ZWRvciBkZWZpbmktbGEuXG4gICAqL1xuICBASW5wdXQoJ3AtY29udGFjdC1waG9uZScpIGNvbnRhY3RQaG9uZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlc2lnbmHDp8OjbyBkZSB2YWxvcmVzIHVzYWRvcyBwYXJhIGEgY3VzdG9taXphw6fDo28gZGEgbWVuc2FnZW0gZGUgYmxvcXVlaW8uXG4gICAqIENvbmZpcmEgYWJhaXhvIG9zIHZhbG9yZXMgcHLDqS1kZWZpbmlkb3MuXG4gICAqXG4gICAqIGBgYFxuICAgKiAgY29uc3QgY3VzdG9tTGl0ZXJhbHM6IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uUGFyYW1zID0ge1xuICAgKiAgICBhdHRlbXB0czogNSxcbiAgICogICAgZGF5czogOTAsXG4gICAqICAgIGhvdXJzOiAyNFxuICAgKiAgfTtcbiAgICogYGBgXG4gICAqXG4gICAqID4gU2FsaWVudGFtb3MgYSBpbXBvcnTDom5jaWEgZSBhdGVuw6fDo28gcGFyYSBjb25maWd1cmHDp8OjbyBkZXNzZXMgdmFsb3JlcyBjb25mb3JtZSBkZWZpbmlkb3Mgbm8gcHJvamV0by5cbiAgICpcbiAgICogPiBWZWphIG9zIHBhcsOibWV0cm9zIGN1c3RvbWl6w6F2ZWlzIG5hIGludGVyZmFjZSBgUG9QYWdlQmxvY2tlZFVzZXJSZWFzb25QYXJhbXNgLlxuICAgKlxuICAgKi9cbiAgQElucHV0KCdwLXBhcmFtcycpIHNldCBwYXJhbXModmFsdWU6IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uUGFyYW1zKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICAgICAgY29uc3QgbmV3UGFyYW1zID0geyAuLi5Qb1BhZ2VCbG9ja2VkVXNlclBhcmFtc0RlZmF1bHQgfTtcblxuICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIG5ld1BhcmFtc1trZXldID0gdmFsdWVba2V5XTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9wYXJhbXMgPSBuZXdQYXJhbXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3BhcmFtcyA9IHsgLi4uUG9QYWdlQmxvY2tlZFVzZXJQYXJhbXNEZWZhdWx0IH07XG4gICAgfVxuICB9XG5cbiAgZ2V0IHBhcmFtcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyYW1zO1xuICB9XG5cbiAgLyoqIENhbWluaG8gcGFyYSBhIGxvZ29tYXJjYSBsb2NhbGl6YWRhIG5hIHBhcnRlIHN1cGVyaW9yLCBjYXNvIG7Do28gc2VqYSBkZWZpbmlkYSBvdSBzZWphIGludsOhbGlkYSBhc3N1bWUgYSBsb2dvIHBhZHLDo28gZG8gUE8gVUkuICovXG4gIEBJbnB1dCgncC1sb2dvJykgbG9nbz86IHN0cmluZztcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmnDp8OjbyBkZSBtb3Rpdm8gZGUgYmxvcXVlaW8gZGUgdXN1w6FyaW8uIEFzIGluZm9ybWHDp8O1ZXMgbW9kaWZpY2FtIGNvbmZvcm1lIG8gbW90aXZvIHNlbGVjaW9uYWRvLlxuICAgKlxuICAgKiA+IFZlamEgb3MgdmFsb3JlcyB2w6FsaWRvcyBubyAqZW51bSogYFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uYC5cbiAgICpcbiAgICogQGRlZmF1bHQgYFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uLk5vbmVgXG4gICAqL1xuICBASW5wdXQoJ3AtcmVhc29uJykgc2V0IHJlYXNvbih2YWx1ZTogUG9QYWdlQmxvY2tlZFVzZXJSZWFzb24pIHtcbiAgICB0aGlzLl9yZWFzb24gPSAoPGFueT5PYmplY3QpLnZhbHVlcyhQb1BhZ2VCbG9ja2VkVXNlclJlYXNvbikuaW5jbHVkZXModmFsdWUpXG4gICAgICA/IHZhbHVlXG4gICAgICA6IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uRGVmYXVsdDtcbiAgfVxuXG4gIGdldCByZWFzb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYXNvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENhbWluaG8gcGFyYSBhIGxvZ29tYXJjYSBsb2NhbGl6YWRhIG5vIHJvZGFww6kuXG4gICAqL1xuICBASW5wdXQoJ3Atc2Vjb25kYXJ5LWxvZ28nKSBzZWNvbmRhcnlMb2dvPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFVSTCBwYXJhIGEgYcOnw6NvIGRlIHJldG9ybm8gZGEgcMOhZ2luYS5cbiAgICpcbiAgICogQGRlZmF1bHQgYC9gXG4gICAqL1xuICBASW5wdXQoJ3AtdXJsLWJhY2snKSBzZXQgdXJsQmFjayh1cmw6IHN0cmluZykge1xuICAgIHRoaXMuX3VybEJhY2sgPSB1cmw7XG4gIH1cblxuICBnZXQgdXJsQmFjaygpIHtcbiAgICByZXR1cm4gdGhpcy5fdXJsQmFjaztcbiAgfVxufVxuIl19